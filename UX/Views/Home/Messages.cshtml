
@{
    ViewBag.Title = "Messages";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@if (ViewBag.user != null)
{
    <span>Logged in as: </span><div id="currentUser">@ViewBag.user</div>
}


<h2>Messages</h2>

<div ng-app="msg-app">
    <div ng-controller="MsgController">
        <div>
            <ul>
                <li ng-repeat="msg in messages">
                    Title: <span>{{msg.Title}}</span><br/>
                    From: <span>{{msg.FromDisplay}}</span><br/>
                    Body: <span>{{msg.Body}}</span>
                    
                    @*<span ng-bind="msgTitle"></span>
                    <span ng-bind="msgFrom"></span>
                    <span ng-bind="msgDate"></span>*@
                </li>
            </ul>
        </div>
    </div>
</div>

<br/>
<div id="messageList"></div>

@section Scripts {
    <script src="/Scripts/jquery-1.10.2.js"></script>
    <script src="/Scripts/angular.js"></script>
    <script src="/Scripts/Angular/message.js"></script>
    <script type="text/javascript">
        var user = $("#currentUser").text();
        GetMessagesUser(user);
    </script>
}