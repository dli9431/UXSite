
@{
    ViewBag.Title = "Messages";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{
    if (ViewBag.user != null)
    {
        <div id="currentUser">@ViewBag.user</div>
    }
}

<h2>Chat</h2>

<div ng-app="chat-app">
    <div ng-controller="ChatController">
        <div>
            Name: <input type="text" ng-model="name" disabled /><br />
            Message: <input type="text" ng-model="message" /><br />
            <input type="button" value="Send" ng-click="newMessage()" />
        </div>
        <div>
            <ul>
                <li ng-repeat="chat in messages">
                    <span ng-bind="chat"></span>
                </li>
            </ul>
        </div>
    </div>
</div>

@section Scripts {
    <script src="/Scripts/jquery-1.10.2.js"></script>
    <script src="/Scripts/jquery.signalR-2.2.1.js"></script>
    <script src="/signalr/hubs"></script>
    <script src="/Scripts/angular.js"></script>
    <script src="~/App/Chat/chat.js"></script>
    @*<script type="text/javascript">
        $(document).ready(function() {
            var email = $("#currentUser").text();
            Chat(email);
        });
    </script>*@

    @*<script type="text/javascript">
        var user = $("#currentUser").text();
        GetMessagesUser(user);
    </script>*@
}
@section jsCode {
    @*angular.bootstrap(document.getElementById("chat"), ['chat']);*@    
}